<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Design - Easy Tutorials</title>
    <link rel="stylesheet" href="style.css"> </head>
<body>
    <div class="container">
        <button type="submit" class="btn" onclick="openPopup()">Submit</button>
        <div class="popup" id="popup">
            <img src="https://www.citypng.com/public/uploads/preview/hd-round-green-tick-mark-symbol-icon-png-701751695051688lzyoxnzg09.png">
            <h2>Thank you!</h2>
            <p>Your details has been successfully submitted. Thanks!</p>
            <p id="countdown"></p>
            <button type="button" onclick="closePopup()">OK</button>
        </div>
    </div>

    <script>
        // Lấy phần tử popup từ HTML và lưu vào biến 'popup'
        let popup = document.getElementById("popup");
        // Lấy phần tử hiển thị đếm ngược và lưu vào biến 'countdownDisplay'
        let countdownDisplay = document.getElementById("countdown");
        // Khởi tạo thời gian đếm ngược là 5 giây
        let countdownTime = 5;
        // Khởi tạo biến 'countdownInterval' để lưu ID của bộ đếm ngược
        let countdownInterval;

        // Hàm 'openPopup' được gọi khi nút "Submit" được nhấn
        function openPopup() {
            // Thêm class 'open-popup' vào phần tử popup để hiển thị nó (dựa vào css trong style.css)
            popup.classList.add("open-popup");
            // Đặt lại thời gian đếm ngược về 5 giây mỗi khi popup được mở
            countdownTime = 5;
            // Hiển thị thời gian đếm ngược ban đầu trong phần tử 'countdownDisplay'
            countdownDisplay.textContent = "Popup closes in: " + countdownTime + " seconds";
            // Bắt đầu bộ đếm ngược, gọi hàm 'updateCountdown' mỗi 1000ms (1 giây)
            countdownInterval = setInterval(updateCountdown, 1000);
        }

        // Hàm 'closePopup' được gọi khi nút "OK" được nhấn hoặc khi đếm ngược kết thúc
        function closePopup() {
            // Xóa class 'open-popup' khỏi phần tử popup để ẩn nó
            popup.classList.remove("open-popup");
            // Dừng bộ đếm ngược bằng cách xóa interval đã tạo
            clearInterval(countdownInterval);
        }

        // Hàm 'updateCountdown' được gọi mỗi giây bởi 'setInterval'
        function updateCountdown() {
            // Giảm thời gian đếm ngược đi 1 giây 
            countdownTime--;
            // Cập nhật nội dung của phần tử 'countdownDisplay' với thời gian đếm ngược mới
            countdownDisplay.textContent = "Popup closes in: " + countdownTime + " seconds";
            // Nếu thời gian đếm ngược đạt đến 0, đóng popup
            if (countdownTime <= 0) {
                closePopup();
            }
        }
    </script>
</body>
</html>